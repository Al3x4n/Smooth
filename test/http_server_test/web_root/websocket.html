<!DOCTYPE html>
<html lang="en">
<head>
    <script lang="javascript">
        let socket = null;

        function connect() {
            socket = new WebSocket('ws://localhost:8080/chat');

            // Connection opened
            socket.addEventListener('open', function (event) {
                console.log("Connected!");
            });

            socket.addEventListener('close', function(event) {
                console.log("Disconnected");
            });

            // Listen for messages
            socket.addEventListener('message', function (event) {
                console.log('Message from server ', event.data);
            });
        }

        function send_short() {
            let s = "A".repeat(124);
            socket.send(s + "-");
        }

        function send_65k() {
            let s = "B".repeat(65534);
            socket.send(s + "-");
        }

        function send_80k() {
            let s = "C".repeat(79999);
            socket.send(s + "-");
        }

    </script>
</head>
<body>
    <button onclick="connect();">Connect</button>
    <button onclick="send_short();">Send short</button>
    <button onclick="send_65k();">Send 65k</button>
    <button onclick="send_80k();">Send 80k</button>


</body>
</html>
